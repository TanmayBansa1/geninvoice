// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // NOTE: When using mysql or sqlserver, uncomment the @db.Text annotations in model Account below
  // Further reading:
  // https://next-auth.js.org/adapters/prisma#create-the-prisma-schema
  // https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#string
  url      = env("DATABASE_URL")
}

model User {
  id          String    @id @default(cuid())
  clerkId     String    @unique
  email       String    @unique
  firstName   String?
  lastName    String?
  name        String?
  address     String?
  imageUrl    String?
  invoices    Invoice[]
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model Invoice {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  invoiceName String
  sno         Int
  status      InvoiceStatus
  currency    String
  dueDate     Int?
  date        DateTime

  fromName    String
  fromEmail   String
  fromAddress String

  toName    String
  toEmail   String
  toAddress String

  description String
  quantity    Int
  rate        Int
  amount      Int

  note String?

  user   User   @relation(fields: [userId], references: [id])
  userId String
}

enum InvoiceStatus {
  PAID
  PENDING
  DRAFT
}
